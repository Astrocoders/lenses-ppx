// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Decco = require("decco/src/Decco.bs.js");
var Js_dict = require("bs-platform/lib/js/js_dict.js");
var Js_json = require("bs-platform/lib/js/js_json.js");
var Belt_Option = require("bs-platform/lib/js/belt_Option.js");

function get(values, field) {
  if (field) {
    return values.age;
  } else {
    return values.email;
  }
}

function set(values, field, value) {
  if (field) {
    return {
            email: values.email,
            age: value
          };
  } else {
    return {
            email: value,
            age: values.age
          };
  }
}

var StateLenses = {
  get: get,
  set: set
};

console.log("fakenickels@brazil.gov.br");

console.log(0);

function bartux_get(values, field) {
  if (field) {
    return values.top;
  } else {
    return values.color;
  }
}

function bartux_set(values, field, value) {
  if (field) {
    return {
            color: values.color,
            top: value
          };
  } else {
    return {
            color: value,
            top: values.top
          };
  }
}

function bartux_encode(v) {
  return Js_dict.fromArray([
              [
                "color",
                Decco.stringToJson(v.color)
              ],
              [
                "top",
                Decco.intToJson(v.top)
              ]
            ]);
}

function bartux_decode(v) {
  var dict = Js_json.classify(v);
  if (typeof dict === "number") {
    return Decco.error(undefined, "Not an object", v);
  }
  if (dict.TAG !== /* JSONObject */2) {
    return Decco.error(undefined, "Not an object", v);
  }
  var dict$1 = dict._0;
  var color = Decco.stringFromJson(Belt_Option.getWithDefault(Js_dict.get(dict$1, "color"), null));
  if (color.TAG === /* Ok */0) {
    var top = Decco.intFromJson(Belt_Option.getWithDefault(Js_dict.get(dict$1, "top"), null));
    if (top.TAG === /* Ok */0) {
      return {
              TAG: /* Ok */0,
              _0: {
                color: color._0,
                top: top._0
              }
            };
    }
    var e = top._0;
    return {
            TAG: /* Error */1,
            _0: {
              path: ".top" + e.path,
              message: e.message,
              value: e.value
            }
          };
  }
  var e$1 = color._0;
  return {
          TAG: /* Error */1,
          _0: {
            path: ".color" + e$1.path,
            message: e$1.message,
            value: e$1.value
          }
        };
}

var bartux = {
  color: "red",
  top: 10
};

console.log("red");

console.log(bartux_set(bartux, /* Top */1, 20));

console.log(bartux_encode(bartux));

var state = {
  email: "fakenickels@brazil.gov.br",
  age: 0
};

exports.StateLenses = StateLenses;
exports.state = state;
exports.bartux_get = bartux_get;
exports.bartux_set = bartux_set;
exports.bartux_encode = bartux_encode;
exports.bartux_decode = bartux_decode;
exports.bartux = bartux;
/*  Not a pure module */
