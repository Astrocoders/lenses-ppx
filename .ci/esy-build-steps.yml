# Cross-platform set of build steps for building esy projects

steps:
  - task: NodeTool@0
    inputs:
      versionSpec: '8.9'
  - script: cd packages/ppx && npm install -g esy@0.4.3
    displayName: 'npm install -g esy@0.4.3'
  - script: cd packages/ppx && esy install
    displayName: 'esy install'
  - script: cd packages/ppx && esy build
    displayName: 'esy build'
  - script: cd packages/ppx && esy test
    displayName: 'esy test'
  - script: cd packages/ppx && esy release
    displayName: 'Test Creation of Prebuilt Binary Releases'
    continueOnError: true
